<template>
    <h3>ç›Šæ™ºå°æ¸¸æˆ -- è´ªåƒ ğŸ</h3>
  <div class="map-wrapper">

    <div class="map" ref="map"></div>
    <span class="cursorP" @click="restart">{{text}}</span>
  </div>
</template>
<script>
import { ref, onUnmounted } from "vue";
import Game from "./components";
export default {
  setup() {
    let map = ref(null);
    let text = ref("  è¯·å¼€å§‹ä½ çš„è¡¨æ¼”");
    let _game = ref(null);
    onUnmounted(() => {
      _game.value && _game.value.removeKeyCode();
    });
    //åˆå§‹åŒ–
    function game() {
      _game.value = new Game(map.value);
     _game.value.init()
    }
    //é‡æ–°å¼€å§‹
    function restart() {
      text.value = "å†æ¥ä¸€æŠŠä¹ˆ";
      game();
    }
    return {
      text,
      map,
      restart
    };
  }
};
</script>
<style lang="less" scoped>
.map-wrapper {
  display: flex;
}
.map {
  width: 800px;
  height: 600px;
  position: relative;
  background-color: #ccc;
}
</style>